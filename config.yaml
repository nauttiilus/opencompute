# ════════════════════════════════════════════════════════════════════
# NETWORK
# ════════════════════════════════════════════════════════════════════
attestation_layer:
  # Attestation Layer URL (centralized service for miner status, allocations, PoG results)
  url: "http://135.181.63.200/v1"
  # Auth token (can be overridden via environment variable)
  auth_token: ""
  # Timeout settings
  connect_timeout_sec: 5
  read_timeout_sec: 30
  # Retry settings (used by validator only)
  retry_max: 2
  retry_base_sec: 0.5
  retry_max_sec: 5.0
  retry_statuses: "408,429,500,502,503,504"
  # Cache TTL (used by validator only)
  cache_ttl_sec: 300

chain:
  network: "finney"
  rpc_http: ""
  rpc_wss: "wss://entrypoint-finney.opentensor.ai:443"
  request_timeout_sec: 6
  block_hash_cache: 1024

# ════════════════════════════════════════════════════════════════════
# MINER
# ════════════════════════════════════════════════════════════════════
miner:
  # Block intervals (1 block ≈ 12 seconds on Bittensor)
  block_interval_validator_update: 30    # ~6 minutes
  block_interval_specs_update: 150       # ~30 minutes
  block_interval_sync_status: 25         # ~5 minutes
  block_interval_allocation_check: 15    # ~3 minutes
  # Identity
  wallet_name: "miner_wallet"
  hotkey_name: "miner_hotkey"
  # Runtime paths
  run_root_path: "/dev/shm/miner"
  poll_sec: 0.5

# ════════════════════════════════════════════════════════════════════
# VALIDATOR
# ════════════════════════════════════════════════════════════════════
validator:
  # Block intervals
  block_interval_hardware_info: 150      # ~30 minutes
  block_interval_miner_check: 50         # ~10 minutes
  block_interval_sync_status: 25         # ~5 minutes
  block_interval_token_refresh: 600      # ~2 hours
  # Timeouts (seconds)
  pubsub_timeout_sec: 30
  ssh_timeout_sec: 30
  allocation_timeout_sec: 20
  deallocation_timeout_sec: 15
  # Retries
  allocation_max_retries: 2
  deallocation_max_retries: 3
  retry_backoff_sec: 5
  # Config server
  server_ip: "65.108.33.88"
  server_port: "8000"
  pull_interval: 60

# ════════════════════════════════════════════════════════════════════
# PROOF OF GPU (PoG) - Scheduling & Compute
# ════════════════════════════════════════════════════════════════════
pog:
  # Miner scheduling
  exec_every_blocks: 5
  finalized_cache_ttl_sec: 10
  rpc_backoff_sec: 20
  allocation_grace_sec: 120
  # Validator scheduling
  pog_interval_blocks: 15
  batch_size: 64
  # Merkle proof params (merged from merkle_proof section)
  miner_script_path: "neurons/Validator/miner_script_m_merkletree.py"
  time_tolerance: 5
  submatrix_size: 512
  buffer_factor: 0.45
  spot_per_gpu: 3
  hash_algorithm: 'sha256'
  pog_retry_limit: 20
  pog_retry_interval: 60
  max_workers: 64
  max_random_delay: 600
  # Matrix settings
  c_open_rows: 2
  c_open_cols: 2
  n_cap: 262144
  # GPU compute settings
  anchor_kind: heavy
  buffer_micro: 0.001
  buffer_heavy: 0.4
  stream_micro_priority: 1
  stream_heavy_priority: 0
  # Confidential Compute Attestation (Intel TDX, NVIDIA CC)
  cc_attestation_enabled: true
  cc_attestation_mode: "mock"

# ════════════════════════════════════════════════════════════════════
# GPU SPECIFICATIONS
# ════════════════════════════════════════════════════════════════════
gpu_performance:
  # GPU VRAM in GB (actual memory)
  GPU_AVRAM:
    # Blackwell (B-series)
    NVIDIA B300: 288
    NVIDIA B200: 192
    # Hopper (H-series)
    NVIDIA H200: 141
    NVIDIA H200 NVL: 141
    NVIDIA H100 80GB HBM3: 80
    NVIDIA H100 PCIe: 80
    NVIDIA H100 NVL: 94
    # Ampere (A-series)
    NVIDIA A100-SXM4-80GB: 80
    NVIDIA A100 80GB PCIe: 80
    NVIDIA A100-SXM4-40GB: 40
    NVIDIA A100-PCIE-40GB: 40
    NVIDIA A40: 48
    # Ada Lovelace / Professional
    NVIDIA L40S: 48
    NVIDIA L40: 48
    NVIDIA L4: 24
    NVIDIA RTX 6000 Ada Generation: 48
    NVIDIA RTX A6000: 48
    NVIDIA RTX A5000: 24
    NVIDIA RTX A4500: 20
    NVIDIA RTX 4000 Ada Generation: 20
    NVIDIA RTX A4000: 16
    # Consumer GeForce
    NVIDIA GeForce RTX 5090: 32
    NVIDIA GeForce RTX 4090: 24
    NVIDIA GeForce RTX 4080 SUPER: 16
    NVIDIA GeForce RTX 4080: 16
    NVIDIA GeForce RTX 3090: 24

  gpu_tolerance_pairs:
    NVIDIA L40s: NVIDIA L40S
    NVIDIA RTX 4090: NVIDIA GeForce RTX 4090
    NVIDIA H100": NVIDIA H100 PCIe
    NVIDIA H100 NVL: NVIDIA H100 PCIe
    NVIDIA H100 PCIe: NVIDIA H100 NVL
    NVIDIA L40: NVIDIA RTX 6000 Ada Generation
    NVIDIA RTX 6000 Ada Generation: NVIDIA L40
    NVIDIA RTX 4000 Ada Generation: NVIDIA RTX A5000
    NVIDIA RTX A5000: NVIDIA RTX 4000 Ada Generation
    NVIDIA A100 80GB PCIe: NVIDIA A100-SXM4-80GB
    NVIDIA A100-SXM4-80GB: NVIDIA A100 80GB PCIe
    NVIDIA H100 80GB HBM3: NVIDIA H100
    NVIDIA H100: NVIDIA H100 80GB HBM3
    NVIDIA A40: NVIDIA RTX A6000
    NVIDIA RTX A6000: NVIDIA A40

  gpu_scores:
    # Blackwell (B-series)
    NVIDIA B300: 6.00
    NVIDIA B200: 4.80
    # Hopper (H-series)
    NVIDIA H200: 3.99
    NVIDIA H200 NVL: 3.50
    NVIDIA H100 80GB HBM3: 2.99
    NVIDIA H100 PCIe: 2.79
    NVIDIA H100 NVL: 3.15
    # Ampere (A-series)
    NVIDIA A100-SXM4-80GB: 1.89
    NVIDIA A100 80GB PCIe: 1.64
    NVIDIA A100-SXM4-40GB: 1.50
    NVIDIA A100-PCIE-40GB: 1.30
    NVIDIA A40: 0.39
    # Ada Lovelace / Professional
    NVIDIA L40S: 1.03
    NVIDIA L40: 0.99
    NVIDIA L4: 0.43
    NVIDIA RTX 6000 Ada Generation: 0.88
    NVIDIA RTX A6000: 0.76
    NVIDIA RTX A5000: 0.26
    NVIDIA RTX A4500: 0.34
    NVIDIA RTX 4000 Ada Generation: 0.35
    NVIDIA RTX A4000: 0.25
    # Consumer GeForce
    NVIDIA GeForce RTX 5090: 0.92
    NVIDIA GeForce RTX 4090: 0.69
    NVIDIA GeForce RTX 4080 SUPER: 0.55
    NVIDIA GeForce RTX 4080: 0.50
    NVIDIA GeForce RTX 3090: 0.43

# ───────────────── delta timing models ─────────────────
delta_model:
  default:                            {base1: 12.50, base2: 12.50, a1: 0.20, a2: 0.02, tol1: 1.15, tol2: 1.20}
  # Blackwell (B-series)
  "NVIDIA B300":                      {base1: 12.00, base2: 12.00, a1: 2.50, a2: 0.02, tol1: 1.15, tol2: 1.20}
  "NVIDIA B200":                      {base1: 18.03, base2: 18.03, a1: 3.84, a2: 0.02, tol1: 1.15, tol2: 1.20}
  # Hopper (H-series)
  "NVIDIA H200":                      {base1: 32.55, base2: 32.55, a1: 5.28, a2: -0.23, tol1: 1.15, tol2: 1.20}
  "NVIDIA H200 NVL":                  {base1: 30.00, base2: 30.00, a1: 4.80, a2: -0.20, tol1: 1.15, tol2: 1.20}
  "NVIDIA H100 80GB HBM3":            {base1: 19.00, base2: 19.00, a1: 1.43, a2: 0.16, tol1: 1.15, tol2: 1.20}
  "NVIDIA H100 PCIe":                 {base1: 12.28, base2: 12.28, a1: 11.48, a2: -0.60, tol1: 1.15, tol2: 1.20}
  "NVIDIA H100 NVL":                  {base1: 23.46, base2: 23.46, a1: 0.30, a2: 0.23, tol1: 1.15, tol2: 1.20}
  # Ampere (A-series)
  "NVIDIA A100-SXM4-80GB":            {base1: 31.32, base2: 31.32, a1: 1.80, a2: 0.22, tol1: 1.15, tol2: 1.20}
  "NVIDIA A100 80GB PCIe":            {base1: 18.74, base2: 18.74, a1: 12.53, a2: -0.78, tol1: 1.15, tol2: 1.20}
  "NVIDIA A100-SXM4-40GB":            {base1: 28.00, base2: 28.00, a1: 1.60, a2: 0.20, tol1: 1.15, tol2: 1.20}
  "NVIDIA A100-PCIE-40GB":            {base1: 16.00, base2: 16.00, a1: 11.00, a2: -0.70, tol1: 1.15, tol2: 1.20}
  "NVIDIA A40":                       {base1: 15.12, base2: 15.12, a1: 2.08, a2: -0.11, tol1: 1.15, tol2: 1.20}
  # Ada Lovelace / Professional
  "NVIDIA L40S":                      {base1: 9.58, base2: 9.58, a1: 5.61, a2: -0.35, tol1: 1.15, tol2: 1.20}
  "NVIDIA L40":                       {base1: 11.60, base2: 11.60, a1: 4.96, a2: -0.31, tol1: 1.15, tol2: 1.20}
  "NVIDIA L4":                        {base1: 13.89, base2: 13.89, a1: 1.09, a2: 0.00, tol1: 1.15, tol2: 1.20}
  "NVIDIA RTX 6000 Ada Generation":   {base1: 13.63, base2: 13.63, a1: 0.21, a2: 0.12, tol1: 1.15, tol2: 1.20}
  "NVIDIA RTX A6000":                 {base1: 6.00, base2: 6.00, a1: 6.38, a2: -0.28, tol1: 1.15, tol2: 1.20}
  "NVIDIA RTX A5000":                 {base1: 6.23, base2: 6.23, a1: 3.15, a2: 0.00, tol1: 1.15, tol2: 1.20}
  "NVIDIA RTX A4500":                 {base1: 10.86, base2: 10.86, a1: 0.33, a2: 0.00, tol1: 1.15, tol2: 1.20}
  "NVIDIA RTX 4000 Ada Generation":   {base1: 12.16, base2: 12.16, a1: 0.36, a2: 0.20, tol1: 1.15, tol2: 1.20}
  "NVIDIA RTX A4000":                 {base1: 12.00, base2: 12.00, a1: 0.40, a2: 0.00, tol1: 1.15, tol2: 1.20}
  # Consumer GeForce
  "NVIDIA GeForce RTX 5090":          {base1: 6.16, base2: 6.16, a1: 3.24, a2: -0.14, tol1: 1.15, tol2: 1.20}
  "NVIDIA GeForce RTX 4090":          {base1: 5.58, base2: 5.58, a1: 2.31, a2: -0.14, tol1: 1.15, tol2: 1.20}
  "NVIDIA GeForce RTX 4080 SUPER":    {base1: 7.00, base2: 7.00, a1: 2.50, a2: -0.14, tol1: 1.15, tol2: 1.20}
  "NVIDIA GeForce RTX 4080":          {base1: 7.50, base2: 7.50, a1: 2.70, a2: -0.14, tol1: 1.15, tol2: 1.20}
  "NVIDIA GeForce RTX 3090":          {base1: 8.00, base2: 8.00, a1: 3.00, a2: -0.14, tol1: 1.15, tol2: 1.20}

# ════════════════════════════════════════════════════════════════════
# SUBNET ECONOMICS
# ════════════════════════════════════════════════════════════════════
subnet_config:
  total_miner_emission: 0.01
  blocks_per_epoch: 360
  max_challenge_blocks: 11
  rand_delay_blocks_max: 5
  reliability_weight: 0.5
  # Treasury allocation
  treasury_wallet_hotkey: ""
  treasury_emission_share: 0.0
  # GPU weights: market-aligned ratios with decentralization bonus for consumer GPUs
  gpu_weights:
    # Enterprise tier (Blackwell & Hopper)
    NVIDIA B300: 15
    NVIDIA B200: 12
    NVIDIA H200: 10
    NVIDIA H200 NVL: 9
    NVIDIA H100 80GB HBM3: 10
    NVIDIA H100 PCIe: 9
    NVIDIA H100 NVL: 8
    # Datacenter tier (Ampere)
    NVIDIA A100-SXM4-80GB: 4
    NVIDIA A100 80GB PCIe: 4
    NVIDIA A100-SXM4-40GB: 3
    NVIDIA A100-PCIE-40GB: 3
    NVIDIA L40S: 3
    NVIDIA L40: 2.5
    NVIDIA A40: 2
    NVIDIA L4: 0.6
    # Prosumer tier
    NVIDIA RTX 6000 Ada Generation: 2
    NVIDIA RTX A6000: 1.5
    NVIDIA RTX A5000: 1.2
    NVIDIA RTX A4500: 1.2
    NVIDIA RTX 4000 Ada Generation: 1
    NVIDIA RTX A4000: 1
    # Consumer tier (+20% decentralization bonus)
    NVIDIA GeForce RTX 5090: 1.8
    NVIDIA GeForce RTX 4090: 1.2
    NVIDIA GeForce RTX 4080 SUPER: 1
    NVIDIA GeForce RTX 4080: 1
    NVIDIA GeForce RTX 3090: 0.85
